{% extends 'base.html' %}
{% block content %}
<!-- Main product -->
<h3>{{ product.name }}</h3>
<img src="{{ product.image.url }}" style="width:350px;height:auto" class="mb-3 d-block">
<p class="text-muted">₹ {{ product.price }}</p>
<p>{{ product.description }}</p>

<!-- Extra images -->
<!-- <h5>More images</h5>
<div class="d-flex flex-wrap gap-2 mb-4">
  {% for img in extra_images %}
    <img src="{{ img.image.url }}" style="width:100px;height:100px;object-fit:cover">
  {% empty %}
    <p>No extra images</p>
  {% endfor %}
</div> -->

<!-- Add to cart -->
<form method="post" action="{% url 'add_to_cart' product.id %}">
  {% csrf_token %}
  <button class="btn btn-primary mt-3">Add to Cart</button>
</form>

<hr>

<!-- Related products -->
<h4 class="mt-4">You may also like</h4>
<div class="row g-3">
  {% for p in related_products %}
    <div class="col-6 col-md-4 col-lg-3">
      <a href="{% url 'product_detail' p.id %}" style="text-decoration:none;color:inherit">
        <div class="card h-100">
          <img src="{{ p.image.url }}" style="width:100%;height:150px;object-fit:cover">
          <div class="card-body">
            <h6 class="card-title">{{ p.name }}</h6>
            <p class="text-muted small mb-0">₹ {{ p.price }}</p>
          </div>
        </div>
      </a>
    </div>
  {% endfor %}
</div>
{% endblock %}
